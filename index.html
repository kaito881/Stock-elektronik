 .filter-label { width: 100%; font-size: 10px; font-weight: bold; color: #95a5a6; text-transform: uppercase; text-align: center; margin-bottom: 8px; display: block; }
        .filter-group { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; }
        .btn-filter { padding: 8px 12px; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; background: #fff; font-size: 11px; font-weight: 600; }
        .btn-filter.active { background: var(--accent); color: white; border-color: var(--accent); }
        .list-container { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; font-size: 13px; }
        td { padding: 12px; border: none; }
        .product-row { border-bottom: 1px solid #f1f1f1; cursor: pointer; }
        .row-habis { background: #f2f2f2; opacity: 0.8; }
        .merek-tag { font-size: 9px; background: #34495e; color: white; padding: 2px 6px; border-radius: 4px; text-transform: uppercase; display: inline-block; margin-bottom: 4px; }
        .harga { font-weight: bold; color: var(--primary); font-size: 14px; }
        .stok-status-wrapper { display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .angka-stok { font-weight: 800; font-size: 15px; color: #333; }
        .badge { padding: 4px 8px; border-radius: 6px; font-size: 10px; font-weight: bold; min-width: 55px; text-align: center; }
        .badge-ready { background: #ebf9f1; color: var(--success); border: 1px solid #27ae60; }
        .badge-habis { background: #f8f8f8; color: var(--d<!DOCTYPE html>
<html lang="id">
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> 
    <title>GUDANG DIGITAL - NEON GLOW</title> 
    <style> 
        :root { 
            --accent: #00d2ff; 
            --glow: rgba(0, 210, 255, 0.4);
            --success: #00ff88; 
            --danger: #ff4d4d; 
            --glass-bg: rgba(255, 255, 255, 0.05); 
            --glass-border: rgba(255, 255, 255, 0.2);
        } 
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; } 
        body { 
            font-family: 'Inter', 'Segoe UI', sans-serif; 
            background-color: #000; color: #fff;
            margin: 0; padding: 12px; min-height: 100vh;
            background-image: radial-gradient(circle at 50% 50%, #0a111a 0%, #000 100%);
        } 
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.3; }
        
        header { 
            background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border); padding: 25px 20px; border-radius: 25px; 
            text-align: center; margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5), 0 0 15px var(--glow);
        }
        header h1 { margin: 0; font-size: 20px; letter-spacing: 4px; text-transform: uppercase; color: var(--accent); text-shadow: 0 0 10px var(--accent); }
        
        .stats-bar { display: flex; justify-content: center; gap: 20px; margin-top: 15px; } 
        .stat-val { display: block; font-size: 18px; font-weight: 900; color: #fff; }
        .stat-lbl { font-size: 9px; opacity: 0.6; letter-spacing: 1px; }

        .glass-card { 
            background: var(--glass-bg); backdrop-filter: blur(15px); 
            border: 1px solid var(--glass-border); border-radius: 20px; 
            padding: 15px; margin-bottom: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.4);
        }
        .glow-border { border: 1px solid var(--accent) !important; box-shadow: 0 0 15px var(--glow); }

        .search-container input { 
            width: 100%; padding: 14px; border-radius: 12px; 
            border: 1px solid var(--glass-border); background: rgba(0,0,0,0.5); 
            color: #fff; font-size: 15px; outline: none; transition: 0.3s;
        } 
        .search-container input:focus { border-color: var(--accent); box-shadow: 0 0 10px var(--glow); }

        .filter-group { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; } 
        .btn-filter { 
            padding: 9px 15px; border: 1px solid var(--glass-border); border-radius: 10px; 
            cursor: pointer; background: rgba(255,255,255,0.05); color: #ccc; font-size: 11px; transition: 0.3s;
        } 
        .btn-filter.active { background: var(--accent); color: #000; font-weight: 800; border-color: var(--accent); box-shadow: 0 0 15px var(--accent); }

        .product-row { border-bottom: 1px solid rgba(255,255,255,0.05); cursor: pointer; } 
        .row-habis { opacity: 0.4; } 

        .stok-box { 
            background: rgba(0,0,0,0.4); padding: 10px; border-radius: 15px; 
            display: flex; flex-direction: column; align-items: center; min-width: 65px; 
            border: 1px solid var(--glass-border);
        }
        .box-ready { border-color: var(--success); box-shadow: 0 0 10px rgba(0, 255, 136, 0.2); }
        .angka-stok { font-size: 20px; font-weight: 900; color: #fff; } 
        .badge { padding: 3px 6px; border-radius: 5px; font-size: 8px; font-weight: 900; margin-top: 4px; } 
        .badge-ready { background: var(--success); color: #000; } 
        .badge-habis { background: #333; color: #fff; } 

        .desc-content { max-height: 0; overflow: hidden; transition: 0.3s; font-size: 12px; color: #aaa; } 
        .expanded + .desc-row .desc-content { max-height: 120px; padding: 15px; background: rgba(0,0,0,0.3); border-left: 2px solid var(--accent); } 

        table { width: 100%; border-collapse: collapse; }
        .merek-tag { font-size: 8px; color: var(--accent); border: 1px solid var(--accent); padding: 1px 5px; border-radius: 4px; font-weight: bold; }
        .item-name { font-weight: 600; font-size: 14px; display: block; margin: 4px 0; color: #eee; }
        .item-price { color: var(--accent); font-weight: 800; font-size: 15px; text-shadow: 0 0 5px var(--glow); }

        .fab-sort { position: fixed; bottom: 20px; right: 20px; background: var(--accent); color: #000; border: none; border-radius: 50px; padding: 12px 20px; font-weight: 900; z-index: 100; box-shadow: 0 0 20px var(--accent); }
    </style>
</head>
<body>
<canvas id="bg-canvas"></canvas>
<header> 
    <h1>Stock Digital</h1> 
    <div class="stats-bar"> 
        <div class="stat-item"><span class="stat-val" id="stat-total">0</span><span class="stat-lbl">ITEMS</span></div> 
        <div class="stat-item"><span class="stat-val" style="color:var(--success)" id="stat-ready">0</span><span class="stat-lbl">READY</span></div> 
        <div class="stat-item"><span class="stat-val" style="color:var(--danger)" id="stat-sold">0</span><span class="stat-lbl">SOLD</span></div> 
    </div>
</header>

<div class="glass-card glow-border">
    <div class="search-container"><input type="text" id="inputCari" placeholder="Cari barang..." onkeyup="render()"></div>
</div>

<div class="glass-card">
    <div id="filterKategori" class="filter-group"></div>
    <div style="height:15px"></div>
    <div class="filter-group">
        <button class="btn-filter btn-stok active" id="stok-semua" onclick="setModeStok('semua')">Semua</button>
        <button class="btn-filter btn-stok" id="stok-ready" onclick="setModeStok('ready')">Ready</button>
        <button class="btn-filter btn-stok" id="stok-habis" onclick="setModeStok('habis')">Habis</button>
    </div>
</div>

<div class="glass-card" style="padding:0; overflow:hidden;">
    <table><tbody id="tempatBarang"></tbody></table>
</div>

<button id="btnSort" class="fab-sort" onclick="gantiUrutan()">â‡… <span id="txtSort">TERBARU</span></button>

<script>
    // BG ANIMATION
    const canvas = document.getElementById('bg-canvas'); const ctx = canvas.getContext('2d'); let dots = [];
    function initCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; dots = []; for(let i=0; i<40; i++) dots.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, vx:(Math.random()-0.5)*0.5, vy:(Math.random()-0.5)*0.5}); }
    function draw() { ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle="#00d2ff"; ctx.strokeStyle="rgba(0,210,255,0.15)"; dots.forEach((d,i)=>{ d.x+=d.vx; d.y+=d.vy; if(d.x<0||d.x>canvas.width)d.vx*=-1; if(d.y<0||d.y>canvas.height)d.vy*=-1; ctx.beginPath(); ctx.arc(d.x,d.y,1,0,Math.PI*2); ctx.fill(); for(let j=i+1;j<dots.length;j++){ let dist=Math.hypot(d.x-dots[j].x, d.y-dots[j].y); if(dist<150){ ctx.lineWidth=1-dist/150; ctx.beginPath(); ctx.moveTo(d.x,d.y); ctx.lineTo(dots[j].x,dots[j].y); ctx.stroke(); } } }); requestAnimationFrame(draw); }
    initCanvas(); draw(); window.onresize=initCanvas;

    let modeStok = 'semua'; let filterSekarang = { kategori: 'Semua' }; let urutanDesc = true;
    
    // FULL DATA 84 ITEMS
    const gudangData = [
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron 7kg G", h: "1.375.000", s: 1, t: ""},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron 8kg B", h: "1.475.000", s: 0, t: "2-2-26"},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron 8kg Y", h: "1.475.000", s: 1, t: ""},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron 9kg Y", h: "1.625.000", s: 0, t: "7-2-26"},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron 9kg 81 V", h: "1.700.000", s: 0, t: "08-02-2026"},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron 9kg 81 Y", h: "1.700.000", s: 0, t: "7-2-26"},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron 10kg Y", h: "1.840.000", s: 1, t: ""},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron 10kg 81 V", h: "1.900.000", s: 1, t: ""},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron 12kg X", h: "2.225.000", s: 1, t: ""},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron 14kg B", h: "2.340.000", s: 1, t: ""},
        {k: "Mesin Cuci", m: "Sharp", n: "Mesin Cuci Sharp ES-T 1490WA-RD", h: "2.980.000", s: 1, t: ""},
        {k: "Mesin Cuci", m: "Toshiba", n: "Mesin Cuci Toshiba VH-H95MN-WB", h: "1.700.000", s: 1, t: ""},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron PAW 8029TS", h: "2.375.000", s: 1, t: ""},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron PAW 9029TS", h: "2.600.000", s: 1, t: ""},
        {k: "Mesin Cuci", m: "Polytron", n: "Mesin Cuci Polytron PAW 1029TY", h: "2.875.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 159 R", h: "1.675.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 159 B", h: "1.675.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 179 R", h: "1.825.000", s: 2, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 177 LB", h: "1.825.000", s: 0, t: "7-2-26"},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 187 TY", h: "1.925.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 187 PR", h: "1.925.000", s: 0, t: "4-2-26"},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 15 DMY", h: "1.725.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 16 DRX", h: "1.825.000", s: 0, t: "7-2-26"},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 16 DRD", h: "1.825.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 18 DRD", h: "2.065.000", s: 0, t: "7-2-26"},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 18 DRX", h: "2.065.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 18 MNX", h: "2.065.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 18 MOW", h: "2.065.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 18 MOB", h: "2.065.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 18 DMY", h: "2.065.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 18DMR", h: "2.065.000", s: 0, t: "08-02-2026"},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 18 MTR", h: "2.065.000", s: 1, t: ""},
        {k: "Kulkas", m: "Sharp", n: "Kulkas Sharp SJ-X 165 MD (GD)", h: "1.725.000", s: 1, t: ""},
        {k: "Kulkas", m: "Sharp", n: "Kulkas Sharp SJ-N 192 D (VB)", h: "2.065.000", s: 1, t: ""},
        {k: "Kulkas", m: "Sharp", n: "Kulkas Sharp SJ-X 197W-DW", h: "2.225.000", s: 1, t: ""},
        {k: "Kulkas", m: "Sharp", n: "Kulkas Sharp SJ-236MG-GR", h: "3.030.000", s: 1, t: ""},
        {k: "Kulkas", m: "Toshiba", n: "Kulkas Toshiba GR-RD196CC", h: "1.900.000", s: 1, t: ""},
        {k: "Kulkas", m: "Toshiba", n: "Kulkas Toshiba GR-RD235CC", h: "1.975.000", s: 1, t: ""},
        {k: "Kulkas", m: "Toshiba", n: "Kulkas Toshiba GR-B28ISP", h: "3.080.000", s: 1, t: ""},
        {k: "Kulkas", m: "Aqua", n: "Kulkas Aqua AQR-D185 MDS", h: "1.725.000", s: 1, t: ""},
        {k: "Kulkas", m: "Aqua", n: "Kulkas Aqua AQR-D205 MDS", h: "1.825.000", s: 1, t: ""},
        {k: "Kulkas", m: "LG", n: "Kulkas LG GN-Y201CLAR", h: "2.300.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 2p 200 Y", h: "2.600.000", s: 0, t: "7-2-26"},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 2p 200 R", h: "2.600.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 2p 20 CRD", h: "2.675.000", s: 0, t: "7-2-26"},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 2p 20 CLD", h: "2.675.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 2p 21DMY", h: "2.850.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 2p 21DRD3", h: "2.850.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 23 MNX", h: "2.975.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 25 MNX", h: "3.150.000", s: 1, t: ""},
        {k: "Kulkas", m: "Polytron", n: "Kulkas Polytron 29 HB", h: "3.600.000", s: 1, t: ""},
        {k: "Kulkas", m: "Sharp", n: "Kulkas Sharp 2p SJ 197 ND", h: "2.725.000", s: 1, t: ""},
        {k: "Kulkas", m: "Sharp", n: "Kulkas Sharp 2p SJ 236 MG", h: "3.030.000", s: 0, t: "2-2-26"},
        {k: "Kulkas", m: "LG", n: "Kulkas LG 2p GN-B202SQIR", h: "3.400.000", s: 1, t: ""},
        {k: "Kulkas", m: "Toshiba", n: "Kulkas Toshiba 2p GR-B28ISP", h: "3.075.000", s: 1, t: ""},
        {k: "Kulkas", m: "Samsung", n: "Kulkas Samsung 2p RT19M300BGE", h: "3.575.000", s: 1, t: ""},
        {k: "Freezer", m: "Midea", n: "Freezer Midea HS-129C", h: "1.845.000", s: 1, t: ""},
        {k: "Freezer", m: "Artugo", n: "Freezer Artugo CF101CN", h: "1.850.000", s: 0, t: "7-2-26"},
        {k: "Freezer", m: "Artugo", n: "Freezer Artugo CF201CN", h: "2.455.000", s: 0, t: "7-2-26"},
        {k: "Freezer", m: "TCL", n: "Freezer TCL TCF201ZID", h: "2.410.000", s: 1, t: ""},
        {k: "Freezer", m: "TCL", n: "Freezer TCL TCF100ZID", h: "1.860.000", s: 0, t: "5-2-26"},
        {k: "Freezer", m: "Polytron", n: "Freezer Box Polytron PC318", h: "3.250.000", s: 1, t: ""},
        {k: "Dapur", m: "Miyako", n: "Magic com Miyako MCM-609", h: "215.000", s: 1, t: ""},
        {k: "Dapur", m: "Miyako", n: "Magic com Miyako MCM 508", h: "245.000", s: 2, t: ""},
        {k: "Dapur", m: "Miyako", n: "Magic com Miyako MCM 508 SBC", h: "275.000", s: 2, t: ""},
        {k: "Dapur", m: "Miyako", n: "Magic com Miyako MCM 528", h: "245.000", s: 3, t: ""},
        {k: "Dapur", m: "Philips", n: "Magic com Philips", h: "425.000", s: 2, t: ""},
        {k: "Dapur", m: "Cosmos", n: "Magic com Cosmos CRJ-3232", h: "290.000", s: 4, t: ""},
        {k: "Dapur", m: "Lainnya", n: "Blender BL 101 PL", h: "200.000", s: 3, t: ""},
        {k: "Dapur", m: "Rinnai", n: "Kompor Rinnai RI 602 A", h: "525.000", s: 1, t: ""},
        {k: "Dapur", m: "Rinnai", n: "Kompor Rinnai RI 522 CE", h: "370.000", s: 1, t: ""},
        {k: "Dapur", m: "Rinnai", n: "Kompor Rinnai RI 522 E", h: "415.000", s: 2, t: ""},
        {k: "Dapur", m: "Rinnai", n: "Kompor Rinnai RI 712T", h: "660.000", s: 2, t: ""},
        {k: "Dapur", m: "Miyako", n: "Regulator Miyako RMS-206M", h: "90.000", s: 3, t: ""},
        {k: "Dapur", m: "Miyako", n: "Regulator Miyako RMS-106M", h: "100.000", s: 2, t: ""},
        {k: "Lainnya", m: "Cosmos", n: "Setrika Cosmos cis-318", h: "150.000", s: 1, t: ""},
        {k: "Lainnya", m: "Lainnya", n: "Roda kulkas besi", h: "85.000", s: 4, t: ""},
        {k: "Lainnya", m: "Lainnya", n: "Hand Mixer Hm-620", h: "180.000", s: 1, t: ""},
        {k: "Lainnya", m: "Welhome", n: "Water Heater Welhome", h: "850.000", s: 1, t: ""},
        {k: "TV", m: "Coocaa", n: "TV Coocaa 32S3U", h: "1.650.000", s: 1, t: ""},
        {k: "TV", m: "Polytron", n: "TV Polytron PLD40 CV8969", h: "2.625.000", s: 1, t: ""},
        {k: "TV", m: "Polytron", n: "TV Polytron 32TG5055", h: "1.875.000", s: 1, t: ""},
        {k: "Lainnya", m: "Lainnya", n: "Kipas KAD927BGB", h: "175.000", s: 1, t: ""},
        {k: "Lainnya", m: "Lainnya", n: "Bracket TV", h: "65.000", s: 2, t: ""}
    ];

    function toggleDesc(id) { document.getElementById('row-'+id).classList.toggle('expanded'); }
    function setModeStok(m) { modeStok=m; document.querySelectorAll('.btn-stok').forEach(b=>b.classList.remove('active')); document.getElementById('stok-'+m).classList.add('active'); render(); }
    function setFilter(j,n) { filterSekarang[j]=n; render(); initFilters(); }
    function gantiUrutan() { urutanDesc=!urutanDesc; document.getElementById('txtSort').innerText=urutanDesc?"TERBARU":"TERLAMA"; render(); }
    function parseTgl(t) { if(!t)return 0; const p=t.split('-'); return new Date(`20${p[2]}`,p[1]-1,p[0]).getTime(); }

    function render() {
        const wadah = document.getElementById('tempatBarang');
        const cari = document.getElementById('inputCari').value.toLowerCase();
        let list = gudangData.filter(i => (filterSekarang.kategori==='Semua'||i.k===filterSekarang.kategori) && (i.n.toLowerCase().includes(cari)||i.m.toLowerCase().includes(cari)) && (modeStok==='semua'||(modeStok==='ready'?i.s>0:i.s<=0)));
        
        list.sort((a,b) => {
            if(a.s>0 && b.s===0) return -1;
            if(a.s===0 && b.s>0) return 1;
            return urutanDesc ? parseTgl(b.t)-parseTgl(a.t) : parseTgl(a.t)-parseTgl(b.t);
        });

        document.getElementById('stat-total').innerText = list.length;
        document.getElementById('stat-ready').innerText = list.filter(x=>x.s>0).length;
        document.getElementById('stat-sold').innerText = list.filter(x=>x.s<=0).length;

        wadah.innerHTML = list.map((i,idx) => `
            <tr id="row-${idx}" class="product-row ${i.s<=0?'row-habis':''}" onclick="toggleDesc(${idx})">
                <td style="padding:15px">
                    <span class="merek-tag">${i.m}</span>
                    <span class="item-name">${i.n}</span>
                    <span class="item-price">Rp ${i.h}</span>
                </td>
                <td style="width:85px;text-align:right;padding-right:15px">
                    <div class="stok-box ${i.s>0?'box-ready':''}">
                        <span class="angka-stok">${i.s}</span>
                        <span class="badge ${i.s<=0?'badge-habis':'badge-ready'}">${i.s<=0?'SOLD':'READY'}</span>
                    </div>
                </td>
            </tr>
            <tr class="desc-row"><td colspan="2" style="padding:0">
                <div class="desc-content">
                    Kategori: <b style="color:#fff">${i.k}</b> | Harga: <b style="color:var(--accent)">Rp ${i.h}</b><br>
                    Status: ${i.s>0 ? 'Barang Tersedia' : 'Terjual Habis ('+(i.t||'-')+')'}<br>
                    Pembaruan: ${i.t || 'Stok Baru'}
                </div>
            </td></tr>
        `).join('');
    }

    function initFilters() {
        const kats = ['Semua', ...new Set(gudangData.map(i=>i.k))];
        document.getElementById('filterKategori').innerHTML = kats.map(k=>`<button class="btn-filter ${filterSekarang.kategori===k?'active':''}" onclick="setFilter('kategori','${k}')">${k}</button>`).join('');
    }
    initFilters(); render();
</script>
</body>
</html>
,b) => {
            if (modeStok === 'habis') return urutanDesc ? parseTgl(b.t) - parseTgl(a.t) : parseTgl(a.t) - parseTgl(b.t);
            
            // Prioritas Kategori
            const prioritas = {"Kulkas": 1, "Mesin Cuci": 2};
            const pA = prioritas[a.k] || 99;
            const pB = prioritas[b.k] || 99;
            if (pA !== pB) return pA - pB;

            // Prioritas Stok Ready di Atas
            return (b.s > 0 ? 1 : 0) - (a.s > 0 ? 1 : 0);
        });

        document.getElementById('stat-total').innerText = list.length;
        document.getElementById('stat-ready').innerText = list.filter(x=>x.s>0).length;
        document.getElementById('stat-sold').innerText = list.filter(x=>x.s<=0).length;

        wadah.innerHTML = list.map((i, idx) => `
            <tr id="row-${idx}" class="product-row ${i.s<=0?'row-habis':''}" onclick="toggleDesc(${idx})">
                <td style="width:55%"><span class="merek-tag">${i.m}</span><br><strong>${i.n}</strong></td>
                <td style="width:25%; text-align:right" class="harga">Rp ${i.h}</td>
                <td style="width:20%; text-align:right">
                    <div class="stok-status-wrapper"><span class="angka-stok">${i.s}</span>
                    <span class="badge ${i.s<=0?'badge-habis':'badge-ready'}">${i.s<=0?'SOLD':'READY'}</span></div>
                </td>
            </tr>
            <tr class="desc-row"><td colspan="3" style="padding:0"><div class="desc-content"><div style="padding:10px 15px; background:#f9f9f9;">
                Kategori: ${i.k}<br>${i.s<=0 ? 'Habis tgl: '+formatTgl(i.t) : 'Stok Ready.'}
            </div></div></td></tr>`).join('');
    }

    function initFilters() {
        const kats = ['Semua', ...new Set(gudangData.map(i => i.k))];
        document.getElementById('filterKategori').innerHTML = kats.map(k => 
            `<button class="btn-filter ${filterSekarang.kategori===k?'active':''}" onclick="setFilter('kategori','${k}')">${k}</button>`).join('');
    }
    initFilters(); render();
</script>
</body>
</html>
